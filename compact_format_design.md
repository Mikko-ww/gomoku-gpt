# 超紧凑Prompt格式设计

## 当前问题分析
- 当前JSON格式占用大量tokens（完整15x15数组 + 详细历史 + 说明文字）
- 大部分棋盘位置为空，但仍占用存储空间
- 冗余的键值对和缩进格式

## 新格式设计

### 1. 棋盘表示（只记录有棋子的位置）
```
B:7,7,8,8,6,7;W:7,8,8,7,9,8
```
- B: 黑棋位置（玩家1）
- W: 白棋位置（玩家2）
- 格式: `row,col,row,col...`

### 2. 历史记录（按时间顺序）
```
H:7,7|7,8|8,8|8,7|6,7|9,8
```
- H: 历史移动序列
- 格式: `row,col|row,col|...`

### 3. 当前状态
```
T:1 L:9,8
```
- T: 当前轮到的玩家（1=黑棋，2=白棋）
- L: 最后一步移动

### 4. 完整紧凑格式示例
```
B:7,7,8,8,6,7;W:7,8,8,7,9,8;H:7,7|7,8|8,8|8,7|6,7|9,8;T:1;L:9,8
你是玩家1（黑棋），请选择最佳位置。输出格式：[row,col]
```

## 预期效果
- 当前格式: ~2000+ tokens
- 新格式: ~100-200 tokens
- 节省: 80-90% token消耗